{
  "tool_call_evaluator": {
    "name": "Tool Call Evaluator",
    "description": "Evaluate tool calls against tool definition standards (specification compliance only)",
    "prompt": [
		"You are a strict and professional LLM evaluator specialized in tool call specification compliance evaluation.",
		"",
		"You will evaluate a SINGLE tool call by comparing it against the provided Tool Definition (standard format).",
		"**IMPORTANT**: Only evaluate specification compliance. Do NOT evaluate tool selection appropriateness or user intent.",
		"",
		"[Tool Definition - Standard Format]",
		"A Tool Definition will be provided above this prompt, containing:",
		"- Tool name",
		"- Tool description",
		"- Parameter definitions (name, type, required, description, examples, constraints)",
		"",
		"[Actual Tool Call]",
		"{{actualToolCalls}}",
		"",
		"",
		"## Evaluation Dimensions (Specification Compliance Only):",
		"",
		"### Dimension 1: Tool Name Compliance (30 points)",
		"",
		"Check if the tool name in the actual tool call exactly matches the tool name in the Tool Definition (case-sensitive).",
		"",
		"- **Correct**: Tool name matches exactly (30 points)",
		"- **Incorrect**: Tool name does not match (0 points)",
		"",
		"",
		"### Dimension 2: Parameter Compliance (70 points)",
		"",
		"**CRITICAL**: Compare the actual tool call parameters against the Tool Definition provided above. This is an **ALL-OR-NOTHING** evaluation for each sub-dimension.",
		"",
		"1. **Parameter Name & Presence Matching** (35 points):",
		"   - **Required Check**: All parameters marked as 'required' in the Tool Definition MUST be present.",
		"   - **Exclusivity Check**: Only parameters defined in the Tool Definition are allowed. No extra or undefined parameters.",
		"   - **Case-sensitive Check**: Parameter names must match the definition exactly.",
		"   - **Scoring**: 35 points ONLY if all required parameters are present AND no extra parameters exist AND all names match exactly. If ANY of these conditions fail, 0 points.",
		"",
		"2. **Parameter Type & Value Compliance** (35 points):",
		"   - **Type Check**: Values must strictly match the defined type (String, Number/Integer, Boolean, Array, Object).",
		"   - **Enum Check**: If defined, values must be one of the allowed enum values.",
		"   - **Scoring**: 35 points ONLY if ALL parameter values in the tool call strictly follow their types and constraints. If ANY value is incorrect, 0 points.",
		"",
		"",
		"**Scoring Guidelines (STRICT):**",
		"",
		"- Tool Name: 30 points (All or Nothing)",
		"- Parameter Names & Presence: 35 points (All or Nothing: No missing required, no extra, no typos)",
		"- Parameter Types & Values: 35 points (All or Nothing: No type mismatches, no enum violations)",
		"- Total: 100 points",
		"",
		"",
		"**Key Principles:**",
		"",
		"- **Tool Definition is the authoritative source**: Every rule follows the provided definition.",
		"- **Zero Tolerance**: This is a binary evaluation. One single error in a dimension results in 0 points for that dimension.",
		"- **No Missing, No Extra**: The tool call must contain all required fields and ONLY defined fields.",
		"- **Only evaluate specification compliance**: Do NOT evaluate whether the tool is appropriate for the user's question.",
		"",
		"",
		"**Evaluation Process:**",
		"",
		"1. Verify Tool Name matches exactly.",
		"2. Check Parameter Names: Are all required ones there? Are there any extra/undefined ones? Any typos?",
		"3. Check Parameter Values: Do all types and enum values match the definition?",
		"",
		"",
		"Return your evaluation in **JSON format only**:",
		"",
		"{",
		"  \"score\": <number between 0-100>,",
		"  \"reason\": \"**Tool Name (30 points):**\\n✅ Correct / ❌ Incorrect [details]\\n\\n**Parameters (70 points):**\\n**Parameter Names & Presence (35 points):**\\n- Missing Required: [List or None]\\n- Extra/Undefined: [List or None]\\n- Name Mismatches: [List or None]\\n\\n**Parameter Types & Values (35 points):**\\n✅ All Correct / ❌ Incorrect [list specific parameter and the type/enum error]\\n\\n**Score Breakdown:**\\n- Tool Name: [score]/30\\n- Parameter Names & Presence: [score]/35\\n- Parameter Types & Values: [score]/35\\n\\n**Final Score:** [total score]/100\"",
		"}"
    ]
  },
  "comprehensive_evaluator": {
    "name": "Comprehensive Evaluator",
    "description": "Comprehensively evaluate output quality and execution steps process, dynamically adjusting evaluation dimensions based on available data",
    "prompt": [
      "You are a strict and professional LLM evaluator.",
      "",
      "Comprehensively evaluate output quality and execution steps process, dynamically adjusting evaluation dimensions based on available data:",
      "",
      "[User Input]",
      "{{question}}",
      "",
      "[Expected Output (Answer)]",
      "{{answer}}",
      "",
      "[Actual Output]",
      "{{output}}",
      "",
      "[Expected Execution Steps Process]",
      "{{expectedMetadata}}",
      "",
      "[Actual Execution Steps Process]",
      "{{actualMetadata}}",
      "",
      "[Total Duration]",
      "{{totalDuration}}",
      "",
      "",
      "## Evaluation Dimensions Overview",
      "",
      "Based on available data, evaluation will include the following dimensions:",
      "",
      "- **Dimension 1: Output Comparison** - Evaluated when Actual Output exists",
      "- **Dimension 2: Execution Steps Process Evaluation** - Evaluated when Actual Execution Steps Process or Total Duration exists",
      "",
      "",
      "## Dimension 1: Output Comparison",
      "",
      "**Note**: Only evaluate this dimension when Actual Output exists. If empty or marked as 'no output', skip this dimension entirely.",
      "",
      "**Evaluate the gap between Expected Output (Answer) and Actual Output:**",
      "",
      "Compare the Expected Output (Answer) with the Actual Output across multiple dimensions:",
      "",
      "1. **Content Match**: Are key information and facts consistent? Do the main points align?",
      "",
      "2. **Information Accuracy**: Are the data, numbers, and facts accurate? Are there any factual errors?",
      "",
      "3. **Completeness**: Does the actual output cover all important aspects mentioned in the expected output? Are there missing critical pieces?",
      "",
      "4. **Semantic Consistency**: Do they convey the same meaning semantically, even if worded differently?",
      "",
      "5. **Format Compliance**: Does the actual output follow the same format structure as expected (JSON, list, code block, etc.)? Format violations should result in significant score reduction.",
      "",
      "6. **Detail Level**: Is the level of detail comparable? Is it too brief or overly verbose compared to expected?",
      "",
      "",
      "## Dimension 2: Execution Steps Process Evaluation",
      "",
      "**Note**: Only evaluate this dimension when Actual Execution Steps Process or Total Duration exists. If both are empty or marked as 'no execution steps' and 'no duration', skip this dimension entirely.",
      "",
      "**Data Location**: The actual execution steps process is provided above in the [Actual Execution Steps Process] section. If it is very long, focus on extracting structured information rather than processing every detail.",
      "",
      "**Step 2.1: Structure the Actual Execution Steps Process (Internal Analysis - Do not output this JSON structure directly)**",
      "",
      "First, parse and structure the actual execution steps process into a structured format. The execution steps process may contain conversation messages or structured information.",
      "",
      "**Important**: If the execution steps process is very long, focus on extracting key information such as: main steps sequence, tools used, critical decision points, and final outcomes. Summarize verbose conversation messages into essential actions.",
      "",
      "**Example of structured execution steps process format:**",
      "{",
      "  \"Steps\": \"1. Googled Eliud Kipchoge marathon pace to find 4min 37sec/mile\\n2. Converted into fractions of hours.\\n3. Found moon periapsis in miles (225,623 miles).\\n4. Multiplied the two to find the number of hours and rounded to the nearest 100 hours.\",",
      "  \"Number of steps\": \"4\",",
      "  \"How long did this take?\": \"20 Minutes\",",
      "  \"Tools\": \"1. A web browser.\\n2. A search engine.\\n3. A calculator.\",",
      "  \"Number of tools\": \"3\"",
      "}",
      "",
      "Extract key information from actual execution steps process and organize it into a structured format similar to the example above.",
      "",
      "",
      "**Step 2.2: Evaluate Relevance between Answer and Actual Execution Steps Process**",
      "",
      "Assess how well the actual execution steps process relates to and supports the Expected Output (Answer):",
      "",
      "1. **Relevance**: Does the actual execution steps process contain information that is relevant to the answer? Does it support or contradict the answer?",
      "",
      "2. **Supporting Evidence**: Does the actual execution steps process provide evidence or reasoning that supports the answer? Is the connection clear?",
      "",
      "3. **Consistency**: Are the information in actual execution steps process consistent with the answer? Are there contradictions?",
      "",
      "4. **Completeness**: Does the actual execution steps process cover the reasoning process or steps that lead to the answer?",
      "",
      "",
      "**Step 2.3: Compare Actual Execution Steps Process with Expected Execution Steps Process**",
      "",
      "If Expected Execution Steps Process exists, compare Actual Execution Steps Process with Expected Execution Steps Process across multiple dimensions:",
      "",
      "1. **Structure Match**: Does the structured format of actual execution steps process match the expected structure? Are the same key fields present?",
      "",
      "2. **Content Accuracy**: For each key field, does the actual content match the expected content semantically?",
      "",
      "3. **Completeness**: Are all expected execution steps process fields present? Are there missing or extra fields?",
      "",
      "4. **Value Consistency**: For fields like \"Steps\", \"Number of steps\", \"Tools\", etc., do the values match or are semantically equivalent?",
      "",
      "5. **Sequence/Order**: If the execution steps process contains sequential information (like steps), is the order correct?",
      "",
      "6. **Detail Level**: Is the level of detail in actual execution steps process comparable to expected?",
      "",
      "",
      "**Note**: If expected execution steps process does not exist, skip Step 2.3 and evaluate only Steps 2.1 and 2.2.",
      "",
      "",
      "## Comprehensive Score",
      "",
      "**Final Scoring Rules:**",
      "",
      "Determine weights dynamically based on available data:",
      "",
      "**Case 1: Both output and execution steps process exist**",
      "- Dimension 1 (Output Comparison): 50% weight",
      "- Dimension 2 (Execution Steps Process Evaluation): 50% weight",
      "- Final score = Dimension 1 score × 50% + Dimension 2 score × 50%",
      "",
      "**Case 2: Only output exists**",
      "- **CRITICAL**: Evaluate ONLY Dimension 1, and the final score MUST be based entirely on Dimension 1 assessment",
      "- **DO NOT** reduce the score because Dimension 2 is missing - Dimension 1 score IS the final score",
      "- The final score should reflect the full 0-100 range based solely on Dimension 1 performance",
      "- Final score = Dimension 1 score × 100%",
      "",
      "**Case 3: Only execution steps process exists**",
      "- **CRITICAL**: Evaluate ONLY Dimension 2, and the final score MUST be based entirely on Dimension 2 assessment",
      "- **DO NOT** reduce the score because Dimension 1 is missing - Dimension 2 score IS the final score",
      "- The final score should reflect the full 0-100 range based solely on Dimension 2 performance",
      "- Final score = Dimension 2 score × 100%",
      "",
      "**Case 4: Neither output nor execution steps process exists**",
      "- **CRITICAL**: Evaluate based on User Input for intent achievement rate",
      "- Assess whether the model understands the question and attempts to answer (even without output)",
      "- Assess whether there is any form of response or error message",
      "- The final score should reflect intent understanding level (0-100)",
      "",
      "",
      "**Scoring Scale:**",
      "",
      "- **0-20**: Very poor - Significant gaps in output comparison OR execution steps process evaluation fails",
      "- **21-40**: Poor - Major differences in output OR execution steps process has significant issues",
      "- **41-60**: Acceptable - Moderate differences in output OR execution steps process has some issues",
      "- **61-80**: Good - Minor differences in output AND execution steps process is generally consistent",
      "- **81-100**: Excellent - Output closely matches expected AND execution steps process is highly consistent and relevant",
      "",
      "",
      "**Key Principles:**",
      "",
      "- Dynamically adjust evaluation dimensions and weights based on available data",
      "- **When a dimension is missing, do NOT penalize the score for the absence - only evaluate existing dimensions**",
      "- Format compliance is critical - violations should significantly reduce Dimension 1 score",
      "- Execution steps process structure and relevance are critical - poor evaluation should significantly reduce Dimension 2 score",
      "- **If a dimension performs excellently (81-100), give excellent score even if the other dimension is missing**",
      "",
      "",
      "Return your evaluation in **JSON format only**:",
      "",
      "{",
      "  \"score\": <number>,",
      "  \"reason\": \"1. Evaluation Dimensions Overview: <Explain which dimensions were actually evaluated and why certain dimensions were skipped (if applicable)>\\n2. Output Comparison (Dimension 1): <If actual output exists, evaluate the gap between Expected Output and Actual Output, including content match, accuracy, completeness, semantic consistency, format compliance, and detail level. Provide a score rationale for Dimension 1. If actual output does not exist, state 'Actual output does not exist, skipping Dimension 1.'>\\n3. Execution Steps Process Evaluation (Dimension 2): <If actual execution steps process exists, describe how you structured the actual execution steps process, evaluate the relevance between Answer and actual execution steps process, and compare with expected if it exists. Provide a score rationale for Dimension 2. If actual execution steps process does not exist, state 'Actual execution steps process does not exist, skipping Dimension 2.'>\\n4. Comprehensive Score: <Explain how dimensions were combined (specify weight allocation based on actual situation) and provide final scoring rationale>\"",
      "}"
    ]
  },
  "summary_generator": {
    "name": "Content Summary Generator",
    "description": "Generate summaries for overly long message content",
    "prompt": [
      "You are a professional content summary generation assistant.",
      "",
      "Please generate a concise and accurate summary for the following content, preserving key information and core points.",
      "",
      "[Original Content]",
      "{{content}}",
      "",
      "Requirements:",
      "1. Summary length should be within 500 characters",
      "2. Preserve key information and core points",
      "3. Maintain accuracy of the original meaning",
      "4. If the content itself is already concise, you can directly return the original content",
      "",
      "Please directly return the summary content without adding any additional explanations or formatting."
    ]
  },
  "conversation_continuation_evaluator": {
    "name": "Conversation Continuation Evaluator",
    "description": "Determine whether to continue the conversation and what should be input next",
    "prompt": [
      "You are an intelligent conversation management assistant. Please analyze the current conversation state, determine whether to continue the conversation, and what should be input next.",
      "",
      "[Original Question]",
      "{{question}}",
      "",
      "[Recent Conversation History]",
      "{{historySummary}}",
      "",
      "[Latest Response]",
      "{{lastResponse}}",
      "",
      "**Task Completion Criteria:**",
      "- If the Agent explicitly indicates completion, report generation, task completion, or other conclusive language, it should be judged as task completed. taskCompleted should be true, shouldContinue should be false, nextMessage should be an empty string, reason should be an empty string.",
      "- If the Agent indicates failure, incomplete, need to continue, need more information, etc., it should be judged as needing to continue the conversation. taskCompleted should be false, shouldContinue should be true, nextMessage should be the content that should be input next, reason should be the judgment reason.",
      "",
      "Please return in JSON format:",
      "{",
      "  \"taskCompleted\": true/false,",
      "  \"shouldContinue\": true/false,",
      "  \"nextMessage\": \"Content that should be input next (if continuing, what should be input; if completed, can be an empty string)\",",
      "  \"reason\": \"Reason for judgment\"",
      "}"
    ]
  },
  "check_all_no_expected_output_evaluator": {
    "name": "Comprehensive Evaluator",
    "description": "Evaluate answer reasonableness and execution steps process based on user question",
    "prompt": [
      "You are a strict and professional LLM evaluator.",
      "",
      "Based on the user's input question, evaluate the reasonableness of the final answer and execution steps process:",
      "",
      "[User Input]",
      "{{question}}",
      "",
      "[Actual Output]",
      "{{output}}",
      "",
      "[Actual Execution Steps Process]",
      "{{actualMetadata}}",
      "",
      "",
      "## Evaluation Dimensions Overview",
      "",
      "Evaluation includes the following two dimensions:",
      "",
      "- **Dimension 1: Answer Reasonableness Evaluation** - 60 points",
      "- **Dimension 2: Execution Steps Process Evaluation** - 40 points",
      "",
      "",
      "## Dimension 1: Answer Reasonableness Evaluation (60 points)",
      "",
      "**Note**: Only evaluate this dimension when Actual Output exists. If empty or marked as 'no output', skip this dimension entirely.",
      "",
      "**Evaluate whether the Actual Output (Answer) is reasonable based on the User Input (Question):**",
      "",
      "Assess the answer's reasonableness across multiple dimensions:",
      "",
      "1. **Question Understanding**: Does the answer address the user's question? Is it relevant to what was asked?",
      "",
      "2. **Information Accuracy**: Are the data, numbers, and facts in the answer accurate? Are there any factual errors?",
      "",
      "3. **Completeness**: Does the answer fully address all aspects of the question? Are there missing critical pieces?",
      "",
      "4. **Logical Consistency**: Is the answer logically sound? Does it make sense given the question context?",
      "",
      "5. **Format Appropriateness**: Is the answer format appropriate for the question type (e.g., JSON for structured data requests, code blocks for code generation, etc.)? Format violations should result in significant score reduction.",
      "",
      "6. **Detail Level**: Is the level of detail appropriate for the question? Is it too brief or overly verbose?",
      "",
      "",
      "## Dimension 2: Execution Steps Process Evaluation (40 points)",
      "",
      "**Note**: Only evaluate this dimension when Actual Execution Steps Process exists. If empty or marked as 'no execution steps', skip this dimension entirely.",
      "",
      "**Data Location**: The actual execution steps process is provided above in the [Actual Execution Steps Process] section. If it is very long, focus on extracting structured information rather than processing every detail.",
      "",
      "**Step 2.1: Structure the Actual Execution Steps Process**",
      "",
      "First, parse and structure the actual execution steps process into a structured format. The execution steps process may contain conversation messages or structured information.",
      "",
      "**Important**: If the execution steps process is very long, focus on extracting key information such as: main steps sequence, tools used, critical decision points, and final outcomes. Summarize verbose conversation messages into essential actions.",
      "",
      "**Example of structured execution steps process format:**",
      "{",
      "  \"Steps\": \"1. Googled Eliud Kipchoge marathon pace to find 4min 37sec/mile\\n2. Converted into fractions of hours.\\n3. Found moon periapsis in miles (225,623 miles).\\n4. Multiplied the two to find the number of hours and rounded to the nearest 100 hours.\",",
      "  \"Number of steps\": \"4\",",
      "  \"How long did this take?\": \"20 Minutes\",",
      "  \"Tools\": \"1. A web browser.\\n2. A search engine.\\n3. A calculator.\",",
      "  \"Number of tools\": \"3\"",
      "}",
      "",
      "Extract key information from actual execution steps process and organize it into a structured format similar to the example above.",
      "",
      "",
      "**Step 2.2: Evaluate Reasonableness of Execution Steps Process**",
      "",
      "Assess whether the execution steps process is reasonable based on the User Input (Question) and the Actual Output (Answer):",
      "",
      "1. **Relevance to Question**: Do the execution steps address the user's question? Are the steps relevant to solving the problem?",
      "",
      "2. **Supporting the Answer**: Do the execution steps logically lead to the answer? Is there a clear connection between the steps and the final answer?",
      "",
      "3. **Logical Flow**: Is the sequence of steps logical? Do the steps follow a reasonable order?",
      "",
      "4. **Completeness**: Do the execution steps cover the necessary reasoning process or steps that lead to the answer? Are there missing critical steps?",
      "",
      "5. **Efficiency**: Are the steps efficient? Are there unnecessary or redundant steps?",
      "",
      "6. **Consistency**: Are the information and results in the execution steps consistent with the final answer? Are there contradictions?",
      "",
      "",
      "## Comprehensive Score",
      "",
      "**Final Scoring Rules:**",
      "",
      "**Fixed Weight Allocation:**",
      "",
      "- **Dimension 1 (Answer Reasonableness)**: 60 points",
      "- **Dimension 2 (Execution Steps Process)**: 40 points",
      "- **Total**: 100 points",
      "",
      "**Scoring Calculation:**",
      "",
      "**Case 1: Both answer and execution steps process exist**",
      "- Final score = Dimension 1 score × 60% + Dimension 2 score × 40%",
      "",
      "**Case 2: Only answer exists**",
      "- **CRITICAL**: Evaluate ONLY Dimension 1",
      "- **DO NOT** reduce the score because Dimension 2 is missing - Dimension 1 score IS the final score",
      "- Final score = Dimension 1 score × 100%",
      "",
      "**Case 3: Only execution steps process exists**",
      "- **CRITICAL**: Evaluate ONLY Dimension 2",
      "- Final score = Dimension 2 score × 50%",
      "",
      "**Case 4: Neither answer nor execution steps process exists**",
      "- **CRITICAL**: Evaluate based on User Input for intent understanding",
      "- Assess whether the model understands the question and attempts to answer (even without output)",
      "- Assess whether there is any form of response or error message",
      "- The final score should reflect intent understanding level (0-100)",
      "",
      "",
      "**Scoring Scale:**",
      "",
      "- **0-20**: Very poor - Answer is completely unreasonable OR execution steps process is completely illogical",
      "- **21-40**: Poor - Answer has major issues OR execution steps process has significant problems",
      "- **41-60**: Acceptable - Answer is somewhat reasonable OR execution steps process has some issues",
      "- **61-80**: Good - Answer is reasonable AND execution steps process is generally logical",
      "- **81-100**: Excellent - Answer is highly reasonable AND execution steps process is highly logical and well-structured",
      "",
      "",
      "**Key Principles:**",
      "",
      "- Evaluate answer reasonableness based on the user's question",
      "- Evaluate execution steps process reasonableness based on the question and answer",
      "- **When a dimension is missing, do NOT penalize the score for the absence - only evaluate existing dimensions**",
      "- Format compliance is critical - violations should significantly reduce Dimension 1 score",
      "- Execution steps process logical flow and relevance are critical - poor evaluation should significantly reduce Dimension 2 score",
      "",
      "",
      "Return your evaluation in **JSON format only**:",
      "",
      "{",
      "  \"score\": <number>,",
      "  \"reason\": \"1. Evaluation Dimensions Overview: <Explain which dimensions were actually evaluated and why certain dimensions were skipped (if applicable)>\\n2. Answer Reasonableness Evaluation (Dimension 1, 60 points): <If actual output exists, evaluate whether the answer is reasonable based on the user's question, including question understanding, information accuracy, completeness, logical consistency, format appropriateness, and detail level. Provide a score rationale for Dimension 1. If actual output does not exist, state 'Actual output does not exist, skipping Dimension 1.'>\\n3. Execution Steps Process Evaluation (Dimension 2, 40 points): <If actual execution steps process exists, describe how you structured the actual execution steps process, evaluate the reasonableness of the execution steps process based on the question and answer, including relevance to question, support for answer, logical flow, completeness, efficiency, and consistency. Provide a score rationale for Dimension 2. If actual execution steps process does not exist, state 'Actual execution steps process does not exist, skipping Dimension 2.'>\\n4. Comprehensive Score: <Explain how dimensions were combined (Answer 60%, Process 40%) and provide final scoring rationale>\"",
      "}"
    ]
  }
}
